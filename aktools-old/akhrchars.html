<!DOCTYPE html>

<html lang="zh-Hans" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>明日方舟公开招募干员表</title>
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/multilingual.css">
    <script src="static/js/jquery-3.4.0.min.js"></script>
    <script src="static/js/popper.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/akcustom.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <a class="navbar-brand cn" href="/">明日方舟工具箱</a>
        <a class="navbar-brand en" href="/">Arknights Toolbox</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="展开">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link cn" href="akhr.html">公开招募计算器</a>
                    <a class="nav-link en" href="akhr.html">Recuitment Recommender</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="aklevel.html">升级计算</a>
                    <a class="nav-link en" href="aklevel.html">Levelup Calculator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="akevolve.html">精英材料计算</a>
                    <a class="nav-link en" href="akevolve.html?lang=en">Evolve Calculator</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link cn" href="akhrchars.html">干员表</a>
                    <a class="nav-link en" href="akhrchars.html">Operators Table</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="https://aktoolscn.graueneko.xyz/">[新版工具箱]</a>
                    <a class="nav-link en" href="https://aktools.graueneko.xyz/">New Version</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link cn" href="https://www.bigfun.cn/forum/31/new">社区讨论</a>
                  <a class="nav-link en" href="https://www.bigfun.cn/forum/31/new">Fourm</a>
                </li>
                <li class="nav-item">
                  <a handle-download class="nav-link cn" href="https://at.umtrack.com/STTjqe">App下载</a>
                  <a handle-download class="nav-link en" href="https://at.umtrack.com/STTjqe">App</a>
                </li>
                <script>
                if (/(Android)/i.test(navigator.userAgent)) {
                  document.querySelectorAll('[handle-download]').forEach((e)=>{e.href = 'https://at.umtrack.com/STTjqe'})
                }
                if (/(iPhone|iPad)/i.test(navigator.userAgent)) {
                  document.querySelectorAll('[handle-download]').forEach((e)=>{e.href = 'https://at.umtrack.com/GHvWji'})
                }
                $('.nav-item').each(function(i,o){
                  var pathname = location.pathname.substring(location.pathname.lastIndexOf('/')+1)
                  if($(o).find('a').attr('href') == pathname){
                    $(o).addClass('active')
                  }
                })
                </script>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="switchLang" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Language
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="?lang=cn">中文</a>
                        <a class="dropdown-item" href="?lang=en">English</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container" style="margin:auto;max-width:1000px;">
        <div class="col-12 alert alert-dark mt-3" role="alert">
            <div id="box-tags">
                <button type="button" class="btn btn-sm btn-info my-1" disabled>资质</button> |
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">新手</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">资深干员</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">高级资深干员</button>
                <br />
                <button type="button" class="btn btn-sm btn-info my-1" disabled>位置</button> |
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">远程位</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">近战位</button>
                <br />
                <button type="button" class="btn btn-sm btn-info my-1" disabled>性别</button> |
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">男性干员</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">女性干员</button>
                <br />
                <button type="button" class="btn btn-sm btn-info my-1" disabled>种类</button> |
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">先锋</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">狙击</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">医疗</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">术师</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">近卫</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">重装</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">辅助</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">特种</button>
                <br />
                <button type="button" class="btn btn-sm btn-info my-1" disabled>词缀</button> |
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">治疗</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">支援</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">输出</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">群攻</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">减速</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">生存</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">防护</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">削弱</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">位移</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">控场</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">爆发</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">召唤</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">快速复活</button>
                <button type="button" class="btn btn-sm btn-primary btn-tag my-1">费用回复</button>
            </div>
            <hr class="my-1" />
            <div id="box-options">
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="all" id="opt-all">ALL</button>
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="6">6★</button>
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="5">5★</button>
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="4">4★</button>
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="3">3★</button>
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="2">2★</button>
                <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="1">1★</button>
            </div>
            <hr class="my-1" />
            <button type="button" class="btn btn-sm btn-success my-1" id="btn-all">全选</button>
            <button type="button" class="btn btn-sm btn-danger my-1" id="btn-clear">清空</button>
        </div>

        <table class="table table-striped table-bordered table-hover my-3" id="table-chars">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">干员</th>
                    <th scope="col">类型</th>
                    <th scope="col">Tags</th>
                    <th scope="col">公开</th>
                </tr>
            </thead>
            <tbody id="tbody-chars"></tbody>
        </table>
        <hr />
        <div class="row col-12 tutorial">
            <div class="col-12 text-left">
                <p>使用说明：</p>
                <p>1. 选择需要查询的Tag；</p>
                <p>2. 自动筛选符合条件的干员。</p>
            </div>
        </div>
    </div>

    <hr />
    <div class="row col-12 page-footer">
        <div class="col-12 text-center cn">
            <p>最近更新：2020/03/10</p>
        </div>
        <div class="col-12 text-center en">
            <p>Last update: 03/10/2019</p>
        </div>
    </div>
    <script>
        $(function () {
            showCurrentLang();
            let all_chars = {};
            let colors = { 1: "active", 2: "light", 3: "success", 4: "info", 5: "warning", 6: "danger" };
            $.getJSON("static/data/akhr.json", function (data) {
                let char_html = [];
                data.sort(function (a, b) {
                    return a.level > b.level ? -1 : (a.level < b.level ? 1 : 0);
                });
                $.each(data, function (_, char) {
                    char.tags.push(char.sex + "性干员");
                    all_chars[char.name] = { 'level': char.level, 'tags': char.tags };
                    char_html.push("<tr class='table-" + colors[char.level] + " tr-char'><td>" + char.name + "</td><td>" + char.type + "</td><td>" + char.tags.join("，") + "</td><td>" + (char.hidden ? "否" : "是") + "</td></tr>");
                });
                $("#tbody-chars").html(char_html.join("\n"));
            });

            $(document).on("click", ".btn-tag", function () {
                $(this).toggleClass("btn-primary btn-secondary");
                let checked = $(this).hasClass("btn-primary");
                let tag = $(this).text();
                if (checked) {
                    $(".tr-char:contains('" + tag + "')").show();
                } else {
                    $(".tr-char:contains('" + tag + "')").hide();
                }
            });
            $(document).on("click", ".btn-opt", function () {
                $(this).toggleClass("btn-primary btn-secondary");
                let checked = $(this).hasClass("btn-primary");
                if ($(this).attr("id") === "opt-all") {
                    $(".btn-opt").removeClass("btn-primary btn-secondary").addClass(
                        checked ? "btn-primary" : "btn-secondary"
                    );
                    if ($('#opt-all').hasClass('btn-secondary')) {
                        $('.tr-char').hide();
                    } else {
                        $('.tr-char').show();
                    }
                } else {
                    if ($("#opt-all").hasClass("btn-primary")) {
                        $("#opt-all").toggleClass("btn-primary btn-secondary");
                    } else {
                        let checkedCount = 0;
                        $(".btn-opt").each(function (_, __) {
                            if ($(this).attr("id") === "opt-all") return;
                            if ($(this).hasClass("btn-primary")) checkedCount++;
                        });
                        if (checked) {
                            $(".table-" + colors[$(this).attr("opt-id")]).show();
                        } else {
                            $(".table-" + colors[$(this).attr("opt-id")]).hide();
                        }
                        if (checkedCount === 6) $("#opt-all").toggleClass("btn-primary btn-secondary");
                    }
                }
            });
            $(document).on('click', '#btn-clear', function () {
                $('.tr-char').hide();
                $('.btn-tag').removeClass('btn-primary').addClass('btn-secondary');
                $('.btn-opt').removeClass('btn-primary').addClass('btn-secondary');
            });
            $(document).on('click', '#btn-all', function () {
                $('.tr-char').show();
                $('.btn-tag').removeClass('btn-secondary').addClass('btn-primary');
                $('.btn-opt').removeClass('btn-secondary').addClass('btn-primary');
            });
        });
    </script>
    ____footer
</body>
</html>